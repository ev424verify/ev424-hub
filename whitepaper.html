<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EV424 Whitepaper</title>
  <style>
    :root{color-scheme:dark}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#0b0f14;color:#e8eef6}
    .wrap{max-width:1080px;margin:0 auto;padding:22px}
    .top{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px}
    .brand{font-weight:700;letter-spacing:.2px}
    .btn{display:inline-block;border:1px solid rgba(120,255,170,.55);color:#cfeede;background:transparent;padding:10px 14px;border-radius:10px;text-decoration:none}
    .grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px;margin:10px 0 14px}
    .card{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px}
    .viewer{width:100%;height:74vh;border:1px solid rgba(255,255,255,.08);border-radius:14px;background:#070a0f}
    @media (max-width:900px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}.viewer{height:68vh}}
  </style>
</head>
<body class="">
  <div class="wrap">
    <div class="top">
      <div class="brand">EV424 Whitepaper</div>
      <a class="btn" href="/index.html">Back</a>
    </div>

    <!-- Same interaction shape as public_docs/index_v2.html: preview first, then Open Page => full view -->
    <div class="grid">
      <div class="card"><a class="btn notranslate" id="openPage1" href="#" translate="no" lang="en">Open Page1</a></div>
      <div class="card"><a class="btn notranslate" id="openPage2" href="#" translate="no" lang="en">Open Page2</a></div>
      <div class="card"><a class="btn notranslate" id="openPage3" href="#" translate="no" lang="en">Open Page3</a></div>
      <div class="card"><a class="btn notranslate" id="openPage4" href="#" translate="no" lang="en">Open Page4</a></div>
      <div id="whitepaper_viewer" class="whitepaper-viewer"></div>
    </div>

    <!-- Preview (inline) -->
    <iframe id="docFrame" class="viewer"
      src="/public_docs/whitepaper/EV424_Integrity_Receipt_Whitepaper_v0.1r1+++.md"
      title="EV424 Whitepaper"></iframe>
  </div>

  <script>
  var P1 = "/public_docs/whitepaper/EV424_Whitepaper_Page1_EN.md";
    var P2 = "/public_docs/whitepaper/EV424_Whitepaper_Page2_EN.md";
    var P3 = "/public_docs/whitepaper/EV424_Whitepaper_Page3_EN.md";
  var P4 = "/public_docs/whitepaper/EV424_Whitepaper_Page4_EN.md";

  function enableAndBind(id, url){
    var el = document.getElementById(id);
    if(!el) return;
    el.style.opacity = "1";
    el.style.pointerEvents = "auto";
    el.addEventListener("click", function(e){
      e.preventDefault();
      window.open(url, "_blank", "noopener");
    });
  }
function enableAndBind(id, url) {
  const a = document.getElementById(id);
  if (!a) return;

  a.addEventListener("click", function (e) {
    e.preventDefault();
    fetch(url)
      .then(r => {
        if (!r.ok) throw new Error("fetch failed");
        return r.text();
      })
    .then(md => {
      const v = document.getElementById("whitepaper_viewer");
      if (!v) return;
      v.textContent = md;
    })
      .catch(_ => {
        if (v) v.textContent = "ERROR: unable to load page.";
      });
  });
}


enableAndBind("openPage1", P1);
    enableAndBind("openPage2", P2);
    enableAndBind("openPage3", P3);
  enableAndBind("openPage4", P4);
</script>
</body>
</html>
